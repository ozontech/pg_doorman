[Unit]
Description=PgDoorman connection pooling for PostgreSQL (https://github.com/ozontech/pg_doorman)

[Service]
Type=forking
Nice=-15
User=postgres
Group=postgres
LimitNOFILE=10000
ExecReload=/bin/kill -SIGINT $(cat /tmp/pg_doorman.pid)
ExecStop=/bin/kill -SIGTERM $(cat /tmp/pg_doorman.pid)
SyslogIdentifier=pg_doorman
ExecStart=/usr/bin/pg_doorman /etc/pg_doorman/pg_doorman.toml --daemon
Restart=always
PIDFile=/tmp/pg_doorman.pid

[Install]
WantedBy=multi-user.target
